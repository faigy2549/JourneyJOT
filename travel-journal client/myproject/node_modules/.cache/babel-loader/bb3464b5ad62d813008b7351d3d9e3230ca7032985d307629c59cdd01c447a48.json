{"ast":null,"code":"var _jsxFileName = \"E:\\\\react\\\\myproject\\\\src\\\\pages\\\\Store\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport \"./Cart.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Cart = () => {\n  _s();\n  const obj = JSON.parse(sessionStorage.getItem(\"userToken\"));\n  const token = obj.accesstoken;\n  console.log(\"1234567890-08765234\" + token);\n  var myHeaders = new Headers();\n  myHeaders.append(\"Authorization\", \"Bearer \" + token);\n  var requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n  const [cartItems, setCartItems] = useState([]);\n  useEffect(() => {\n    fetch(\"http://localhost:7002/api/carts\", requestOptions).then(response => response.text()).then(result => {\n      const parsedResult = JSON.parse(result);\n      setCartItems(parsedResult);\n      console.table(parsedResult);\n    }).catch(error => console.log('error', error));\n  }, []);\n  const deleteFromCart = b => {\n    const obj = JSON.parse(sessionStorage.getItem(\"userToken\"));\n    const token = obj.accesstoken;\n    var myHeaders = new Headers();\n    myHeaders.append(\"Authorization\", \"Bearer \" + token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    var raw = JSON.stringify({\n      \"id\": b._id\n    });\n    var requestOptions = {\n      method: 'DELETE',\n      headers: myHeaders,\n      body: raw,\n      redirect: 'follow'\n    };\n    fetch(\"http://localhost:7002/api/carts\", requestOptions).then(response => response.text()).then(result => {\n      alert(result);\n      setCartItems(prevCartItems => prevCartItems.filter(item => item._id !== b._id));\n    }).catch(error => console.log('error', error));\n  };\n  const amount = (e, b) => {\n    const obj = JSON.parse(sessionStorage.getItem(\"userToken\"));\n    const token = obj.accesstoken;\n    var myHeaders = new Headers();\n    myHeaders.append(\"Authorization\", \"Bearer \" + token);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    var raw = JSON.stringify({\n      \"id\": b._id,\n      \"book\": b.book,\n      \"quantity\": e\n    });\n    var requestOptions = {\n      method: 'PUT',\n      headers: myHeaders,\n      body: raw,\n      redirect: 'follow'\n    };\n    fetch(\"http://localhost:7002/api/carts\", requestOptions).then(response => response.text()).then(result => {\n      console.log(result);\n      setCartItems(prevCartItems => prevCartItems.map(item => {\n        if (item._id === b._id) {\n          return {\n            ...item,\n            quantity: e\n          };\n        }\n        return item;\n      }));\n    }).catch(error => console.log('error', error));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"containercart\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"w.jpg\",\n        style: {\n          heignt: \"180px\",\n          width: \"180px\",\n          fontFamily: \"initial\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), cartItems.map(b => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-wrappercart\",\n        children: [b.book && b.book.image && /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"image-wrappercart\",\n          src: b.book.image,\n          style: {\n            height: \"150px\",\n            width: \"200px\",\n            fontFamily: \"initial\"\n          },\n          alt: \"Book Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), b.book && b.book.name && b.book.price && `${b.book.name} ******** ${b.book.price}₪`, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this), \"amount: \" + b.quantity, /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: b.quantity,\n          onBlur: e => amount(e.target.value, b)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"mycart-buttoncart\",\n          onClick: () => deleteFromCart(b),\n          children: \"Delete From Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this)]\n      }, b._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Cart, \"yMyLm0mTOdUD4xRL2vnEhQFbjeY=\");\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","Cart","_s","obj","JSON","parse","sessionStorage","getItem","token","accesstoken","console","log","myHeaders","Headers","append","requestOptions","method","headers","redirect","cartItems","setCartItems","fetch","then","response","text","result","parsedResult","table","catch","error","deleteFromCart","b","raw","stringify","_id","body","alert","prevCartItems","filter","item","amount","e","book","map","quantity","children","className","src","style","heignt","width","fontFamily","fileName","_jsxFileName","lineNumber","columnNumber","image","height","alt","name","price","placeholder","onBlur","target","value","onClick","_c","$RefreshReg$"],"sources":["E:/react/myproject/src/pages/Store/Cart.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport \"./Cart.css\"\r\nconst Cart = () => {\r\n  const obj = JSON.parse(sessionStorage.getItem(\"userToken\"));\r\n  const token = obj.accesstoken;\r\n  console.log(\"1234567890-08765234\" + token);\r\n  var myHeaders = new Headers();\r\n  myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n\r\n  var requestOptions = {\r\n    method: 'GET',\r\n    headers: myHeaders,\r\n    redirect: 'follow',\r\n  };\r\n\r\n  const [cartItems, setCartItems] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:7002/api/carts\", requestOptions)\r\n      .then(response => response.text())\r\n      .then(result => {\r\n        const parsedResult = JSON.parse(result);\r\n        setCartItems(parsedResult);\r\n        console.table(parsedResult);\r\n      })\r\n      .catch(error => console.log('error', error));\r\n  }, []);\r\n  const deleteFromCart = (b) => {\r\n    const obj = JSON.parse(sessionStorage.getItem(\"userToken\"));\r\n    const token = obj.accesstoken;\r\n    var myHeaders = new Headers();\r\n    myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n    var raw = JSON.stringify({\r\n      \"id\": b._id\r\n    });\r\n\r\n    var requestOptions = {\r\n      method: 'DELETE',\r\n      headers: myHeaders,\r\n      body: raw,\r\n      redirect: 'follow'\r\n    };\r\n\r\n    fetch(\"http://localhost:7002/api/carts\", requestOptions)\r\n      .then(response => response.text())\r\n      .then(result => {\r\n        alert(result)\r\n        setCartItems(prevCartItems => prevCartItems.filter(item => item._id !== b._id));\r\n      })\r\n      .catch(error => console.log('error', error));\r\n  }\r\n  const amount = (e, b) => {\r\n    const obj = JSON.parse(sessionStorage.getItem(\"userToken\"));\r\n    const token = obj.accesstoken;\r\n    var myHeaders = new Headers();\r\n    myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n    var raw = JSON.stringify({\r\n      \"id\": b._id,\r\n      \"book\": b.book,\r\n      \"quantity\": e\r\n    });\r\n\r\n    var requestOptions = {\r\n      method: 'PUT',\r\n      headers: myHeaders,\r\n      body: raw,\r\n      redirect: 'follow'\r\n    };\r\n\r\n    fetch(\"http://localhost:7002/api/carts\", requestOptions)\r\n      .then(response => response.text())\r\n      .then(result => {\r\n        console.log(result);\r\n        setCartItems(prevCartItems => prevCartItems.map(item => {\r\n          if (item._id === b._id) {\r\n            return {\r\n              ...item,\r\n              quantity: e\r\n            };\r\n          }\r\n          return item;\r\n        }));\r\n      })\r\n\r\n      .catch(error => console.log('error', error));\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"containercart\" >\r\n        <img src=\"w.jpg\" style={{ heignt: \"180px\", width: \"180px\", fontFamily: \"initial\" }}></img>\r\n        <br></br>\r\n        {cartItems.map(b => (\r\n          <div key={b._id} className=\"button-wrappercart\">\r\n            {b.book && b.book.image && (\r\n              <img\r\n                className=\"image-wrappercart\"\r\n                src={b.book.image}style={{ height: \"150px\", width: \"200px\", fontFamily: \"initial\" }}alt=\"Book Image\"/>)}\r\n            <br />\r\n            {b.book && b.book.name && b.book.price && `${b.book.name} ******** ${b.book.price}₪`}\r\n            <br />\r\n            {\"amount: \" + b.quantity}\r\n            <input placeholder={b.quantity} onBlur={(e) => amount(e.target.value, b)} />\r\n            <br></br>\r\n            <button className=\"mycart-buttoncart\" onClick={() => deleteFromCart(b)}>Delete From Cart</button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Cart;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
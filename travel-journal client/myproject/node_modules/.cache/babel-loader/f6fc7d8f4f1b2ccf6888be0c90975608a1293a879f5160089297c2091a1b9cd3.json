{"ast":null,"code":"var _jsxFileName = \"E:\\\\project\\\\myproject\\\\src\\\\components\\\\User\\\\UserProvider.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { loginService } from \"../../services\";\nimport UserContext from \"./UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    const userToken = localStorage.getItem(\"userToken\");\n    if (userToken) {\n      setUser({\n        userToken\n      }); // TODO: add username and id\n    }\n  }, []);\n  const userLogin = user => {\n    return new Promise((resolve, reject) => {\n      loginService(user).then(response => {\n        if (response.loginStatus == \"ok\") {\n          localStorage.setItem(\"userToken\", response.data.userToken);\n          setUser(response.data);\n          resolve(response.data);\n        }\n        if (response.loginStatus == \"unknown\") {\n          reject(new Error(\"unknown user\"));\n        }\n      });\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      user,\n      userLogin\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(UserProvider, \"5s2qRsV95gTJBmaaTh11GoxYeGE=\");\n_c = UserProvider;\nexport default UserProvider;\nvar _c;\n$RefreshReg$(_c, \"UserProvider\");","map":{"version":3,"names":["useEffect","useState","loginService","UserContext","jsxDEV","_jsxDEV","UserProvider","_ref","_s","children","user","setUser","userToken","localStorage","getItem","userLogin","Promise","resolve","reject","then","response","loginStatus","setItem","data","Error","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/project/myproject/src/components/User/UserProvider.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { loginService } from \"../../services\";\r\nimport UserContext from \"./UserContext\";\r\n\r\nconst UserProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const userToken = localStorage.getItem(\"userToken\");\r\n    if (userToken) {\r\n      setUser({ userToken }); // TODO: add username and id\r\n    }\r\n  }, []);\r\n\r\n  const userLogin = (user) => {\r\n    return new Promise((resolve, reject) => {\r\n      loginService(user).then((response) => {\r\n        if (response.loginStatus == \"ok\") {\r\n          localStorage.setItem(\"userToken\", response.data.userToken);\r\n          setUser(response.data);\r\n          resolve(response.data);\r\n        }\r\n        if (response.loginStatus == \"unknown\") {\r\n          reject(new Error(\"unknown user\"));\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <UserContext.Provider value={{ user, userLogin }}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\nexport default UserProvider;\r\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,YAAY,QAAQ,gBAAgB;AAC7C,OAAOC,WAAW,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,YAAY,GAAGC,IAAA,IAAkB;EAAAC,EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC,GAAAF,IAAA;EAChC,MAAM,CAACG,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAEtCD,SAAS,CAAC,MAAM;IACd,MAAMY,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;IACnD,IAAIF,SAAS,EAAE;MACbD,OAAO,CAAC;QAAEC;MAAU,CAAC,CAAC,CAAC,CAAC;IAC1B;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,SAAS,GAAIL,IAAI,IAAK;IAC1B,OAAO,IAAIM,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtChB,YAAY,CAACQ,IAAI,CAAC,CAACS,IAAI,CAAEC,QAAQ,IAAK;QACpC,IAAIA,QAAQ,CAACC,WAAW,IAAI,IAAI,EAAE;UAChCR,YAAY,CAACS,OAAO,CAAC,WAAW,EAAEF,QAAQ,CAACG,IAAI,CAACX,SAAS,CAAC;UAC1DD,OAAO,CAACS,QAAQ,CAACG,IAAI,CAAC;UACtBN,OAAO,CAACG,QAAQ,CAACG,IAAI,CAAC;QACxB;QACA,IAAIH,QAAQ,CAACC,WAAW,IAAI,SAAS,EAAE;UACrCH,MAAM,CAAC,IAAIM,KAAK,CAAC,cAAc,CAAC,CAAC;QACnC;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAED,oBACEnB,OAAA,CAACF,WAAW,CAACsB,QAAQ;IAACC,KAAK,EAAE;MAAEhB,IAAI;MAAEK;IAAU,CAAE;IAAAN,QAAA,EAC9CA;EAAQ;IAAAkB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B,CAAC;AAACtB,EAAA,CA9BIF,YAAY;AAAAyB,EAAA,GAAZzB,YAAY;AA+BlB,eAAeA,YAAY;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}